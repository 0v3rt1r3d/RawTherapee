/*
  This file is part of RawTherapee.

  Copyright (c) 2016 TooWaBoo (v1.13)
  Many thanks to the RawTherapee Developer Team for this great piece of software

  RawTherapee is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  RawTherapee is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with RawTherapee.  If not, see <http://www.gnu.org/licenses/>.
*/

/*** Change me *** rgb(red,green,blue) *** allowed values from 0 to 255 for each color ***/

@define-color accent-color rgb(35,99,166);      /*** Highlight/selected color for List, Dropdown menu, Borders ... ***/
@define-color text-hl-color rgb(210,210,210);   /*** Highlight/selected text color ***/

@define-color accent-color2 rgb(35,99,166);     /*** Slider, Progressbar, Scrollbar, Tab indicator ***/

@define-color accent-color3 rgb(35,99,166);     /*** Selected thumbnail background color ***/
@define-color text-hl-color3 rgb(210,210,210);  /*** Selected thumbnail text color ***/

/*** Change me end ************************************************************************/

@define-color text-color #B0B0B0;
@define-color text-hl-color2 #C0C0C0;
@define-color text-tbEntry #C0C0C0;
@define-color bg-dark-grey #242424;
@define-color bg-grey #474747;
@define-color bg-light-grey #595959;
@define-color border-color rgba(255,255,255,.25);
@define-color bg-list-hover rgba(255,255,255,.065);
@define-color bg-scale-entry rgba(0,0,0,.14);
@define-color bg-button-border rgba(0,0,0,.38);
@define-color bg-entry-border rgba(0,0,0,.26);
@define-color bg-button-hover rgba(0,0,0,.15);
@define-color bg-spin-button-hover rgba(0,0,0,.25);
@define-color bg-entry-IPTC @bg-dark-grey;

* {
    color: @text-color;
	transition: none;
	text-shadow: none;
	icon-shadow: none;
	box-shadow: none;
	outline-style: none; /* removes the ugly dotted focus line */
	border-image: none;
}
.undershoot.top,
.undershoot.right, 
.undershoot.bottom,
.undershoot.left {
	background-image: none; /* removes the dotted scrollbar line */
}
GtkWindow {
	background-color: @bg-light-grey;
}
GtkDialog {
	background-color: @bg-grey;
	-GtkDialog-content-area-spacing: 4;
	-GtkDialog-action-area-border: 0;
	-GtkDialog-content-area-border: 8;
}

GtkFontChooser,
GtkColorChooser {
	-GtkDialog-action-area-border: 4;
	-GtkDialog-content-area-border: 0;
}
.frame {
    border: none;
}

GtkPaned .frame .frame {
	border-top: 2px solid transparent;
	border-bottom: 4px solid transparent;
}
GtkDialog GtkPaned .frame .frame {
	border-top: none;
	border-bottom: none;
}

/*** Menu bubble box ***/
GtkPopover {
	background-color: @bg-dark-grey;
    border: 1px solid @accent-color;
	border-radius: 0;
}
.menu {
    background-color: @bg-dark-grey;
    border: 1px solid @accent-color;
}
.menuitem {
	padding: 3px 4px;
}
.menuitem:hover {
	background-color: @accent-color;
}
.menuitem:hover * {
	color: @text-hl-color;
}

GtkNotebook {
    padding: 4px;
	background-color: @bg-light-grey;
}
GtkDialog GtkNotebook  {
    padding: 2px 0 0;
}
#PrefNotebook  {
    padding: 4px 8px;
}
#RightNotebook {
	padding: 0 0 0 4px;
}

GtkPaned {
	-GtkPaned-handle-size: 4px;
	background-color: transparent;
}
.pane-separator {
	background-color: @bg-light-grey;
}
GtkDialog .pane-separator {
	background-color: @bg-grey;
}

.separator {
	color: @bg-light-grey;
}
GtkDialog .separator {
	color: @border-color;
}
#RightNotebook .separator {
	color: @bg-dark-grey;
}

/*** Background color image area***/
GtkDrawingArea {
	background-color: @bg-grey;
}
/*** Histogram ***/
GtkGrid GtkContainer GtkDrawingArea:nth-child(1) {
	background-color: @bg-dark-grey;
	border: none;
}
/*** Histogram RGB-Bar***/
GtkGrid GtkContainer GtkDrawingArea:nth-child(2) {
	background-color: #747474;
	border: none;
}
/*** Navigator ***/
GtkWindow GtkPaned:nth-child(1) GtkFrame GtkVBox:nth-child(2) GtkDrawingArea {
	background-color: @bg-dark-grey;
}
#RightNotebook GtkDrawingArea {
	background-color: @bg-dark-grey;
}

/*** Label ***/
.label {
	padding: 0 4px;
}
GtkTable .label {
	padding: 0;
}
GtkDialog .label,
#ToolPanelNotebook .label,
.notebook tab .label {
	padding: 0 1px;
}
.button .label,
#ToolPanelNotebook .button .label {
	padding: 0 0 2px;
}
.frame > .label,
#ToolPanelNotebook .frame > .label {
	padding: 4px 5px;
}
#MyExpanderTitle .label {
	padding: 2px 3px;
}
/*** end ***/

.tooltip {
	background-color: @bg-dark-grey;
	border: 1px solid @accent-color;
	border-radius: 0;
	padding: 0;
}

#partialPasteHeaderSep {color: @accent-color;}
#partialPasteHeader * {color: #E0E0E0;}

/*** Scrollbar ***/
.scrollbar.trough {
	background-color: rgba(0,0,0,.38);
	background-image: none;
	border: none;
}
.scrollbar.slider:active {
	background-color: shade(@accent-color2,1.12);
}

/*** end ***/

/*** Scale & Progressbar ***/
.scale {
    -GtkRange-trough-border: 6;
	-GtkScale-slider-length: 15;
    -GtkRange-slider-width: 15;
}
.scale.trough {
    background-color: @bg-scale-entry;
	border-color: @bg-dark-grey;
}
.scale.slider,
.scale.trough.highlight,
#ToolPanelNotebook .scale.trough.highlight,
#ToolPanelNotebook .scale.slider {
	background-image: none;
	background-color: @accent-color2;
	border: 1px solid @bg-dark-grey;
	color: @text-hl-color2;
}
.scale.fine-tune {
    -GtkRange-trough-border: 5;
}
GtkFontChooser .scale {
    -GtkRange-trough-border: 6;
	-GtkScale-slider-length: 6;
    -GtkRange-slider-width: 19;
}
GtkFontChooser .scale.slider {
	border-radius: 0 0 20px 20px;
	border: 1px solid @bg-dark-grey;
}
GtkFontChooser .scale.fine-tune {
    -GtkRange-trough-border: 5;
}
.scale.slider:active,
#ToolPanelNotebook .scale.slider:active {
	border-color:  shade (@accent-color2,.55);
}

GtkProgressBar {
    -GtkProgressBar-min-vertical-bar-width: 8;
    -GtkProgressBar-min-horizontal-bar-height: 8;
	-GtkProgressBar-yspacing: 6px;
	border-radius: 10px;
}
.progressbar {
    background-image: none;
    background-color: @accent-color2;
	border-color: @bg-dark-grey;
}
GtkProgressBar.trough {
    background-image: none;
    background-color: @bg-scale-entry;
}
#MainNotebook > GtkGrid GtkProgressBar.trough {
    background-image: none;
    background-color: @bg-dark-grey;
	border-color: @bg-dark-grey;
}
/*** end ***/

/*** Load/Save ***/
GtkFileChooserWidget {
	background-color: transparent;
}
GtkFileChooserWidget GtkBox {
	background-color: transparent;
}
GtkFileChooserWidget GtkListBox * {
	padding-top: 1px;
	padding-bottom: 1px;
}
GtkFileChooserWidget GtkListBox {
	background-color: @bg-dark-grey;
}
GtkFileChooserWidget .list-row * {
    padding: 1px 4px;
}
GtkFileChooserWidget .list-row:hover {
    background-color: @bg-list-hover;
}
GtkFileChooserWidget .list-row:hover * {
	color: @text-hl-color2;
}
GtkFileChooserWidget .list-row:selected {
    background-color: @accent-color;
}
GtkFileChooserWidget .list-row:selected * {
    color: @text-hl-color;
}
/*** end ***/

/*** Tab Bars ***/
.notebook tab, .notebook.header {
    background-color: @bg-dark-grey;
	border-color: @bg-dark-grey;
}
#MainNotebook tab {
	padding: 5px;
}
.notebook tab.top {
	border-width: 0 0 5px 0;
}
.notebook tab.left {
	border-width: 0 5px 0 0;
}
#RightNotebook tab.left,
#PrefNotebook tab,
GtkDialog tab {
	padding: 9px;
}
#ToolPanelNotebook tab {
	padding: 10px 4px 7px;
}
#MetaPanelNotebook tab {
	padding: 8px 4px;
}

.notebook tab:active {
	border-color: @accent-color2;
}

/*** end ***/

/*** File Browser ***/
#FileBrowser GtkDrawingArea {
	background-color: @bg-grey;
}
#FileBrowser GtkDrawingArea:selected {
    background-color: @accent-color3;
	color: @text-hl-color3;
}
/*** end ***/

/*** Image ***/
GtkImage {
	padding: 0;
}
#MainNotebook > GtkGrid GtkImage  {
    padding: 1px;
}

#ToolPanelNotebook GtkImage{
	padding: 0 4px;
}
#MyExpanderTitle GtkImage{
	padding: 0;
}

#ToolPanelNotebook tab GtkImage,
#ToolPanelNotebook .button GtkImage {
	padding: 1px 0;
}

GtkDialog .button GtkImage{
	padding: 0;
}
GtkFileChooserWidget .button GtkImage{
	padding: 0 4px;
}
/*** end ***/

/*** Toolpanel ***/
#ToolPanelNotebook {
	background-color: @bg-dark-grey;
	padding: 0;
	border-top: 4px solid @bg-dark-grey;
}

#ToolPanelNotebook GtkScrolledWindow GtkViewport.frame {
	padding: 0 4px;
}
#ToolPanelNotebook .separator {
	color: transparent;
}
#ToolPanelNotebook GtkFrame, #PrefNotebook GtkFrame {
    border: 1px solid @border-color;
    border-radius: 0;
	padding: 5px;
}

#ToolPanelNotebook GtkDrawingArea {
	background-color: @bg-dark-grey;
	border-color: @bg-light-grey;
}
#ToolPanelNotebook GtkDrawingArea {
	border-radius: 1px; /* BUG: if 0, scale mini sliders look funny */
}

#ExpanderBox #ExpanderBox, #ExpanderBox2, #ExpanderBox3 {
    border: 1px solid @border-color;
}

#ExpanderBox, #ExpanderBox2, #ExpanderBox3 {
    background-color: @bg-grey;
    border-radius: 0;
}

#MyExpanderTitle .label {
    color: @text-color;
}
#MyExpanderTitle:hover .label {
    color: @text-hl-color2;
}
/*** end ***/

/*** View ***/
.view {
    background-color: @bg-dark-grey;
}
#PrefNotebook .view {
    background-color: @bg-grey;
}
#MainNotebook .view.cell:nth-child(2) {
	padding: 1px 0px 1px 4px;
}
.view:hover {
    background-color: @bg-list-hover;
	color: @text-hl-color2;
}
#PrefNotebook .view:hover {
    background-color: @bg-light-grey;
	color: @text-hl-color2;
}
.view:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
#PrefNotebook .view:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
/*** end ***/

/*** Metadata ***/
#MetaPanelNotebook {
	padding: 8px 11px 0;
}
#MetaPanelNotebook GtkScrolledWindow GtkViewport.frame {
	padding: 8px 10px;
}
#MetaPanelNotebook.frame {
	background-color: @bg-grey;
 	border-bottom: none;
	border-top: 4px solid @bg-dark-grey;
	border-left: 9px solid @bg-dark-grey;
	border-right: 9px solid @bg-dark-grey;
}
#MetaPanelNotebook .separator {
	color: @border-color;
}
#MetaPanelNotebook.header {
	background-color: @bg-dark-grey;

}
#MetaPanelNotebook GtkTreeView {
	padding: 1px;
	background-color: @bg-grey;
}
#MetaPanelNotebook .frame GtkTreeView {
	padding: 0px;
	background-color: @bg-entry-IPTC;
}
#MetaPanelNotebook GtkTreeView:hover,
#MetaPanelNotebook .frame GtkTreeView:hover {
    background-color: @bg-list-hover;
	color: @text-hl-color;
}
#MetaPanelNotebook GtkTreeView:selected,
#MetaPanelNotebook .frame GtkTreeView:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
#MetaPanelNotebook GtkTextView {
    color: @text-color;
    background-color: @bg-entry-IPTC;
	padding: 2px 4px;
}
/*** end ***/

/*** Entry ***/
.entry {
	background-image: none;
	background-color: @bg-scale-entry;
	border: 1px solid @bg-entry-border;
	border-radius: 0;
	padding: 2px 4px;
	color: @text-color;
}
.entry:focused:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
.entry:not(:focused):not(:insensitive) {/*Workaround*/
    color: @text-color;
    background-color: transparent;
}
.entry:not(:selected):not(:insensitive) {
    color: @text-color;
    background-color: @bg-scale-entry;
}
#ToolPanelNotebook .entry {
    padding: 0 4px 0 8px;
	border-radius: 20px 0 0 20px;
	background-color: rgba(255,255,255,.12);
	border: 1px solid rgba(0,0,0,.48);
	color: @text-tbEntry;
}
#ToolPanelNotebook .entry:focused:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
#ToolPanelNotebook .entry:not(:focused):not(:insensitive) {/*Workaround*/
    color: @text-tbEntry;
    background-color: transparent;
}
#ToolPanelNotebook  .entry:not(:selected):not(:insensitive) {
    color: @text-tbEntry;
    background-color: rgba(255,255,255,.12);
}

#MetaPanelNotebook .entry:not(:selected):not(:insensitive) {
    color: @text-color;
    background-color: @bg-entry-IPTC;
	border: 1px solid rgba(0,0,0,.50);
	border-radius: 0;
	padding: 2px 4px;
}
#MetaPanelNotebook .entry:focused:selected {
    color: @text-hl-color;
    background-color: @accent-color;
}
#MetaPanelNotebook .entry:not(:focused):not(:insensitive) {/*Workaround*/
    color: @text-color;
    background-color: transparent;
}
#MetaPanelNotebook  .entry:not(:selected):not(:insensitive) {
    color: @text-color;
    background-color: @bg-entry-IPTC;
}
/*** end ***/

/*** Buttons ***/
.button {
	background-image: linear-gradient(to bottom, rgba(0,0,0,.07), rgba(0,0,0,.22));
	background-color: transparent;
	border: 1px solid @bg-button-border;
	border-radius: 0;
	padding: 3px 4px;
}
GtkComboBox .button {
	padding: 4px 3px;
}
#ToolPanelNotebook .button,
GtkDialog .button {
    padding: 0px 3px;
}

#ToolPanelNotebook GtkComboBox {
	padding-left: 4px;  /*** Space between label and Dropbox ***/
}
#MetaPanelNotebook GtkComboBox {
	padding-left: 0;
}

.text-button {
	padding: 1px 0;
	-GtkButton-child-displacement-x: 0;
	-GtkButton-child-displacement-y: 0;
	-GtkCheckButton-indicator-size: 16;
	-GtkCheckButton-indicator-spacing: 3;
}
#ToolPanelNotebook .text-button {
	padding: 0 5px 0 0;
}
.button.text-button {
     padding: 4px 10px;
}
#ToolPanelNotebook .button.text-button {
     padding: 0px 3px;
}

.spinbutton .button {
	background-image: none;
	background-color: transparent;
	border: none;
	border-radius: 0;
	padding: 2px;
}
#ToolPanelNotebook .spinbutton .button {
	padding: 0;
}

#fullButton,
#histButton {
	padding: 4px;
}
.button:hover {
	background-color: @bg-button-hover;
}
#ToolPanelNotebook .spinbutton .button:hover {
	background-color: @bg-spin-button-hover;
}

.button:active,
.button:checked {
	background-image: linear-gradient(to bottom, #292929, #202020);
	background-color: transparent;
	border-color: black;
}

#MainNotebook > GtkGrid .button {
	padding: 2px;
	border: 4px solid @bg-dark-grey;
	background-color: transparent;
	background-image: none;
}
#MainNotebook tab .button {
	padding: 1px;
	border-top: 4px solid @bg-dark-grey;
	border-bottom: 4px solid @bg-dark-grey;
	border-left: none;
	border-right: none;
	background-color: transparent;
	background-image: none;
}
#MainNotebook > GtkGrid .button:hover,
#MainNotebook tab .button:hover {
	background-color: rgba(255,255,255,.14);
}
#MainNotebook > GtkGrid .button:active,
#MainNotebook tab .button:active {
	background-color: rgba(255,255,255,.2);
}
.view .button {
    background-color: #181818;
    padding: 2px 6px;
}
/*** end ***/

/*** Check & Radio buttons ***/
.check,
.check row {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (1, @bg-dark-grey));
}
.check:checked,
.check row:checked {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.22, @text-color),
				color-stop (0.30, @bg-dark-grey),
				color-stop (0.50, @bg-dark-grey));
}
.check:insensitive,
.check row:insensitive {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (1, rgba(0,0,0,.24)));
}
.check:checked:insensitive,
.check row:checked:insensitive {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.22, rgba(255,255,255,.08)),
				color-stop (0.30, rgba(0,0,0,.24)),
				color-stop (0.50, rgba(0,0,0,.24)));
}

.radio,
.radio row {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.44, @bg-dark-grey),
				color-stop (0.5, transparent));
}
.radio:checked,
.radio row:checked {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.14, @text-color),
				color-stop (0.21, @bg-dark-grey),
				color-stop (0.44, @bg-dark-grey),
				color-stop (0.5, transparent));
}
.radio:insensitive,
.radio row:insensitive {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.44, rgba(0,0,0,.24)),
				color-stop (0.5, transparent));
}
.radio:checked:insensitive,
.radio row:checked:insensitive {
	-gtk-icon-source:
				-gtk-gradient (radial,
				center center, 0,
				center center, 1,
				color-stop (0.14, rgba(255,255,255,.08)),
				color-stop (0.21, rgba(0, 0, 0,.24)),
				color-stop (0.44, rgba(0, 0, 0,.24)),
				color-stop (0.5, transparent));
}
/*** end ***/

/*** Disabled Items  ***/

*:insensitive,
#ToolPanelNotebook *:insensitive {
	color: #808080;
}
#ToolPanelNotebook .entry:insensitive {
	color: #909090;
	background-color: rgba(255,255,255,.04);
}
.button:insensitive {
	background-image: none;
	background-color: rgba(0,0,0,.07);
	border-color: rgba(0,0,0,.22);
}
.spinbutton .button:insensitive {
	background-image: none;
	background-color: transparent;
	border: none;
}
.scale.slider:insensitive,
.scale.trough.highlight:insensitive,
.scale.trough:insensitive,
#ToolPanelNotebook .scale.slider:insensitive,
#ToolPanelNotebook .scale.trough.highlight:insensitive,
#ToolPanelNotebook .scale.trough:insensitive {
	background-color: #414141;
}
/*** end ***/
